<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<form>
    <input type="text" id="username"/><br/>
    <input type="text" id="password"/><br/>
    <input type="checkbox" id="ck"/>记住用户名密码<br/>
    <input type="button" id="btn" value="登录"/>
</form>
<script src="cookie.js"></script>
<script>
	// 思路:
	//用户一般如果选记住密码,是希望下次进入登录页的时候,不用再输用户名密码
	//这时,只需判断密码在cookie里是否存在,如果存在,就把cookie的值赋值给文本框,如果不存在,那就说明用户没点记住密码,那自然就不用自动填入
    function getId(obj) {
        return document.getElementById(obj);
    }
    var username=getId("username");
    var password=getId("password");
    var ck=getId("ck");
    var btn=getId("btn");
	//如果点击过记住用户名密码:在次进入时读取cookie赋值给用户名密码框
    if(getCookie("pass")){
        username.value=getCookie("user");
        password.value=getCookie("pass");
        ck.checked=true;
        console.log(document.cookie);
    }
	//点击提交-存储用户名,如果勾选密码,存储密码
    btn.onclick=function () {
		//记住用户,登录成功要用到用户名-欢迎某某用户
        setCookie("user",username.value,5);
        if(ck.checked){
            setCookie("pass",password.value,5);
        }else{
            setCookie("pass",0,0);
        }
        var dt=new Date().toLocaleString();
        setCookie("time",dt,5);
        if(username.value!=""&&password.value!=""){
            alert("登录成功");
            window.location.href="index.html";
        }else{
            alert("用户名密码不能为空");
        }
    }
</script>
</body>
</html>